---
title: "CSAPP 读书笔记：并发编程"
date: 2022-08-25T15:31:42+01:00
draft: true
series: ["CSAPP 读书笔记"]
tags: ["OS"]
summary: "正如我们在第八章介绍的，两个在时间上重叠的逻辑控制流是并发的。硬件异常处理程序、进程和 Linux 信号处理程序等都是计算机系统在不同层级上对并发的应用 ..."
---

正如我们在 [第八章](/posts/exception-control-flow-note/#并发流) 介绍的，两个在时间上重叠的逻辑控制流是并发的。硬件异常处理程序、进程和 Linux 信号处理程序等都是计算机系统在不同层级上对并发的应用。现代操作系统为构建并发程序提供了三种基本方法：

- 进程
- I/O 多路复用（Multiplexing）
- 线程（Thread）

## 使用进程实现并发

构建并发程序的最简单方法是使用进程，如在父进程中接受客户端请求，然后创建子进程为客户端提供服务。

![20220829163846](https://cdn.jsdelivr.net/gh/koktlzz/ImgBed@master/20220829163846.png)

如上图所示，服务器在描述符`listenfd(3)`上监听连接请求。此时客户端 1 发起连接请求，服务器接受该请求并返回连接描述符`connfd(4)`。

![20220829164820](https://cdn.jsdelivr.net/gh/koktlzz/ImgBed@master/20220829164820.png)

服务器调用`fork`创建一个子进程，它获得服务器描述符表的完整副本。子进程关闭其侦听描述符 3 的副本，而父进程关闭其已连接描述符 4 的副本，因为不再需要它们。

## 使用 I/O 多路复用实现并发

## 使用线程实现并发
